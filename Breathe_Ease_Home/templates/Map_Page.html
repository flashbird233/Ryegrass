{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ryegrass Map and Route Suggestion</title>
    {# Google Map API #}
    <script defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA7Cnsz3PzLoUoFKL-Mow0AvTtoLd99drA&callback=initMap"></script>
    {# Google Map JS #}
    <script>

        async function initMap() {
            {#Define the Australia Boundary#}
            var ausBounds = {
                north: -9,
                south: -45,
                east: 155,
                west: 111
            }
            {#Map Options#}
            const map = new google.maps.Map(document.getElementById('map'), {
                zoom: 10,
                center: {lat: -37.813611, lng: 144.963056},
                streetViewControl: false,
                minZoom: 4,
                disableDefaultUI: true,
                fullscreenControl: true,
                restriction: {
                    latLngBounds: ausBounds,
                    strictBounds: true
                }
            });

            {#Show the Ryegrass location#}
            {% for location in locations %}
                new google.maps.Marker({
                    position: {
                        lat: {{ location.rye_lat }}, lng: {{ location.rye_lon }}
                    },
                    map: map,
                    title: '{{ location.rye_vernacular_name }}',
                    icon: {
                        url: "{% static 'images/map_icon.png' %}",
                        scaledSize: new google.maps.Size(25, 25)
                    }
                });
            {% endfor %}
        }
    </script>
</head>
<body>
<h1>My Map</h1>
<div id="map" style="height: 500px; width: 75%; margin: 0 auto"></div>
</body>
</html>